"""
4_rag_pipeline.py - –ü–û–õ–ù–ê–Ø RAG –°–ò–°–¢–ï–ú–ê
–ë–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
"""

print("="*60)
print("–®–ê–ì 4: –ü–û–õ–ù–ê–Ø RAG (RETRIEVAL-AUGMENTED GENERATION) –°–ò–°–¢–ï–ú–ê")
print("="*60)

# –ó–ê–ì–†–£–ñ–ê–ï–ú –î–ê–ù–ù–´–ï
import pickle
import numpy as np

try:
    with open('rag_data_step3.pkl', 'rb') as f:
        rag_data = pickle.load(f)

    print("‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ —Ñ–∞–π–ª–∞ 'rag_data_step3.pkl'")

    # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    chunks = rag_data["chunks"]
    chunk_info = rag_data["chunk_info"]
    embeddings = rag_data["embeddings"]

    print(f"–í –±–∞–∑–µ: {len(chunks)} —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤")

except FileNotFoundError:
    print("‚ùå –§–∞–π–ª 'rag_data_step3.pkl' –Ω–µ –Ω–∞–π–¥–µ–Ω!")
    print("–°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ 3_search_engine.py")
    exit()

print("üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ–ª–Ω—ã–π RAG –ø–∞–π–ø–ª–∞–π–Ω...")

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å—Ö–æ–¥—Å—Ç–≤–∞
def calculate_similarity(vec1, vec2):
    """–í—ã—á–∏—Å–ª—è–µ—Ç –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ –º–µ–∂–¥—É –¥–≤—É–º—è –≤–µ–∫—Ç–æ—Ä–∞–º–∏"""
    dot_product = np.dot(vec1, vec2)
    norm1 = np.linalg.norm(vec1)
    norm2 = np.linalg.norm(vec2)

    if norm1 == 0 or norm2 == 0:
        return 0

    similarity = dot_product / (norm1 * norm2)
    return similarity

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è RAG —Å–∏—Å—Ç–µ–º—ã
def rag_system(query):
    """
    –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª RAG:
    1. –ü—Ä–∏–Ω–∏–º–∞–µ–º –≤–æ–ø—Ä–æ—Å
    2. –ò—â–µ–º —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
    3. –§–æ—Ä–º–∏—Ä—É–µ–º –ø—Ä–æ–º–ø—Ç (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é) –¥–ª—è AI
    4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ
    """

    print(f"\n{'='*70}")
    print(f"ü§ñ RAG –°–ò–°–¢–ï–ú–ê: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –≤–æ–ø—Ä–æ—Å")
    print(f"‚ùì –í–û–ü–†–û–°: {query}")
    print(f"{'='*70}")

    # –®–ê–ì 1: –ü–û–ò–°–ö (RETRIEVAL)
    print("\n" + "‚ïê"*30)
    print("üîç –≠–¢–ê–ü 1: –ü–û–ò–°–ö –ò–ù–§–û–†–ú–ê–¶–ò–ò")
    print("‚ïê"*30)

    # –°–æ–∑–¥–∞–µ–º –≤–µ–∫—Ç–æ—Ä –≤–æ–ø—Ä–æ—Å–∞ (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥)
    query_words = query.lower().split()
    query_embedding = np.zeros(embeddings.shape[1])
    matching_chunks = 0

    for i, chunk in enumerate(chunks):
        chunk_lower = chunk.lower()
        if any(word in chunk_lower for word in query_words):
            query_embedding += embeddings[i]
            matching_chunks += 1

    if matching_chunks > 0:
        query_embedding /= matching_chunks
    else:
        query_embedding = embeddings[0].copy()

    # –ò—â–µ–º –ø–æ—Ö–æ–∂–∏–µ —á–∞–Ω–∫–∏
    similarities = []
    for i, chunk_embedding in enumerate(embeddings):
        similarity = calculate_similarity(query_embedding, chunk_embedding)
        similarities.append((i, similarity))

    # –°–æ—Ä—Ç–∏—Ä—É–µ–º –∏ –±–µ—Ä–µ–º —Ç–æ–ø-3
    similarities.sort(key=lambda x: x[1], reverse=True)
    top_results = similarities[:3]

    print(f"–ù–∞–π–¥–µ–Ω–æ {len(similarities)} –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤")
    print(f"–í—ã–±—Ä–∞–Ω–æ {len(top_results)} —Å–∞–º—ã—Ö —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö:")

    retrieved_chunks = []
    for rank, (idx, similarity) in enumerate(top_results, 1):
        print(f"\n  #{rank} (—Å—Ö–æ–¥—Å—Ç–≤–æ: {similarity:.3f}):")
        print(f"  üìÑ {chunks[idx][:80]}...")

        retrieved_chunks.append({
            "text": chunks[idx],
            "similarity": similarity,
            "index": idx
        })

    # –®–ê–ì 2: –§–û–†–ú–ò–†–û–í–ê–ù–ò–ï –ü–†–û–ú–ü–¢–ê
    print("\n" + "‚ïê"*30)
    print("‚úçÔ∏è  –≠–¢–ê–ü 2: –ü–û–î–ì–û–¢–û–í–ö–ê –î–õ–Ø AI")
    print("‚ïê"*30)

    # –°–æ–±–∏—Ä–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
    context_parts = []
    for i, chunk_info in enumerate(retrieved_chunks, 1):
        context_parts.append(f"[–ò—Å—Ç–æ—á–Ω–∏–∫ #{i}, —Å—Ö–æ–¥—Å—Ç–≤–æ: {chunk_info['similarity']:.3f}]:")
        context_parts.append(chunk_info['text'])
        context_parts.append("")

    context = "\n".join(context_parts)

    # –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–º–ø—Ç
    prompt = f"""–¢—ã ‚Äî –ø–æ–ª–µ–∑–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç. –û—Ç–≤–µ—á–∞–π –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—Å–ø–æ–ª—å–∑—É—è –¢–û–õ–¨–ö–û –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

–ö–û–ù–¢–ï–ö–°–¢ (–Ω–∞–π–¥–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è):
{context}

–ò–ù–°–¢–†–£–ö–¶–ò–ò:
1. –ò—Å–ø–æ–ª—å–∑—É–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤—ã—à–µ
2. –ï—Å–ª–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –Ω–µ—Ç –æ—Ç–≤–µ—Ç–∞, —Å–∫–∞–∂–∏ "–ù–µ –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"
3. –ë—É–¥—å —Ç–æ—á–Ω—ã–º –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º
4. –£–∫–∞–∂–∏, –∏–∑ –∫–∞–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–Ω–æ–º–µ—Ä–∞) —Ç—ã –±–µ—Ä–µ—à—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
5. –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

–í–û–ü–†–û–° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø: {query}

–¢–í–û–ô –û–¢–í–ï–¢:"""

    print("üìù –°–æ–∑–¥–∞–Ω –ø—Ä–æ–º–ø—Ç –¥–ª—è AI:")
    print("-" * 40)
    print(prompt[:200] + "...\n...")
    print("-" * 40)
    print(f"\n–î–ª–∏–Ω–∞ –ø—Ä–æ–º–ø—Ç–∞: {len(prompt)} —Å–∏–º–≤–æ–ª–æ–≤")

    # –®–ê–ì 3: –ì–ï–ù–ï–†–ê–¶–ò–Ø –û–¢–í–ï–¢–ê (–¥–µ–º–æ-—Ä–µ–∂–∏–º)
    print("\n" + "‚ïê"*30)
    print("üß† –≠–¢–ê–ü 3: –ì–ï–ù–ï–†–ê–¶–ò–Ø –û–¢–í–ï–¢–ê")
    print("‚ïê"*30)

    print("–î–µ–º–æ-—Ä–µ–∂–∏–º: –≥–µ–Ω–µ—Ä–∏—Ä—É—é –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–≤–∏–ª...")
    answer = generate_demo_answer(query, retrieved_chunks)

    # –®–ê–ì 4: –í–´–í–û–î –†–ï–ó–£–õ–¨–¢–ê–¢–ê
    print("\n" + "‚ïê"*30)
    print("‚úÖ –≠–¢–ê–ü 4: –ì–û–¢–û–í–´–ô –û–¢–í–ï–¢")
    print("‚ïê"*30)

    print(f"\nüìã –í–ê–® –í–û–ü–†–û–°: {query}")
    print(f"\nü§ñ –û–¢–í–ï–¢ RAG –°–ò–°–¢–ï–ú–´:")
    print("‚îÄ" * 50)
    print(answer)
    print("‚îÄ" * 50)

    return answer

def generate_demo_answer(query, retrieved_chunks):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–µ–º–æ-–æ—Ç–≤–µ—Ç—ã"""

    query_lower = query.lower()
    chunk_texts = [chunk["text"] for chunk in retrieved_chunks]

    # –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞
    if any(word in query_lower for word in ["–º–∞—à–∏–Ω–Ω", "ml", "machine"]):
        return """–ù–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–∞—à–∏–Ω–Ω–æ–º –æ–±—É—á–µ–Ω–∏–∏:

–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (Machine Learning, ML) ‚Äî —ç—Ç–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–∑—É—á–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã, —Å–ø–æ—Å–æ–±–Ω—ã–µ –æ–±—É—á–∞—Ç—å—Å—è –Ω–∞ –¥–∞–Ω–Ω—ã—Ö.

–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è:
1. –û–±—É—á–µ–Ω–∏–µ —Å —É—á–∏—Ç–µ–ª–µ–º (Supervised Learning)
2. –û–±—É—á–µ–Ω–∏–µ –±–µ–∑ —É—á–∏—Ç–µ–ª—è (Unsupervised Learning) 
3. –û–±—É—á–µ–Ω–∏–µ —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º (Reinforcement Learning)

[–ò—Å—Ç–æ—á–Ω–∏–∫–∏: 1, 2]"""

    elif any(word in query_lower for word in ["–≥–ª—É–±–æ–∫", "deep", "–Ω–µ–π—Ä–æ–Ω"]):
        return """–°–æ–≥–ª–∞—Å–Ω–æ –Ω–∞–π–¥–µ–Ω–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –æ –≥–ª—É–±–æ–∫–æ–º –æ–±—É—á–µ–Ω–∏–∏:

–ì–ª—É–±–æ–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ (Deep Learning) ‚Äî —ç—Ç–æ –æ—Å–æ–±—ã–π –≤–∏–¥ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Å–ª–æ–µ–≤.

–≠—Ç–∏ —Å–µ—Ç–∏ —É–º–µ—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏–∑ –¥–∞–Ω–Ω—ã—Ö.

–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

[–ò—Å—Ç–æ—á–Ω–∏–∫–∏: 3, 4]"""

    elif any(word in query_lower for word in ["—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä", "gpt", "bert"]):
        return """–ù–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–∞—Ö:

–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã (Transformers) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞.

–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. –ú–µ—Ö–∞–Ω–∏–∑–º –≤–Ω–∏–º–∞–Ω–∏—è (Attention)
2. –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
3. –ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ—Å—Ç—å

–ü—Ä–∏–º–µ—Ä—ã –º–æ–¥–µ–ª–µ–π: BERT, GPT, T5

[–ò—Å—Ç–æ—á–Ω–∏–∫–∏: 5, 6]"""

    elif any(word in query_lower for word in ["rag", "retrieval"]):
        return """–°–æ–≥–ª–∞—Å–Ω–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ RAG:

RAG (Retrieval-Augmented Generation) ‚Äî —ç—Ç–æ –ø–æ–¥—Ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—á–µ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ–∫—Å—Ç–∞.

–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç RAG —Å–∏—Å—Ç–µ–º–∞:
1. Retrieval (–ü–æ–∏—Å–∫) ‚Äî –∏—â–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
2. Augmentation (–î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ) ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç  
3. Generation (–ì–µ–Ω–µ—Ä–∞—Ü–∏—è) ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ RAG:
- –ú–µ–Ω—å—à–µ "–≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π"
- –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å

[–ò—Å—Ç–æ—á–Ω–∏–∫–∏: 7, 8]"""

    else:
        return """–ù–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å:

–°–∏—Å—Ç–µ–º–∞ –Ω–∞—à–ª–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –æ –º–∞—à–∏–Ω–Ω–æ–º –æ–±—É—á–µ–Ω–∏–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö.

–î–ª—è –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Ç–æ—á–Ω–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å.

[–ù–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤]"""

# –¢–ï–°–¢–ò–†–£–ï–ú –ü–û–õ–ù–£–Æ –°–ò–°–¢–ï–ú–£
print("\n" + "="*60)
print("üöÄ –ó–ê–ü–£–°–ö–ê–ï–ú –ü–û–õ–ù–´–ô RAG –ü–ê–ô–ü–õ–ê–ô–ù")
print("="*60)

questions = [
    "–ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ?",
    "–û–±—ä—è—Å–Ω–∏ –≥–ª—É–±–æ–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ",
    "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã?"
]

for i, question in enumerate(questions, 1):
    print(f"\n{'='*70}")
    print(f"–¢–ï–°–¢ {i}: {question}")
    print('='*70)

    answer = rag_system(question)

    # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    rag_data[f"rag_answer_{i}"] = answer

print("\n" + "="*70)
print("üéâ –í–ê–®–ê RAG –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê!")
print("="*70)

print("""
–ß—Ç–æ –≤—ã —Å–æ–∑–¥–∞–ª–∏:
‚úÖ –ü–æ–ª–Ω—ã–π RAG –ø–∞–π–ø–ª–∞–π–Ω –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞
‚úÖ –°–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–Ω–∏–º–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Å–º—ã—Å–ª—É
‚úÖ –î–µ–º–æ-–≤–µ—Ä—Å–∏—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:
1. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é LLM (GPT —á–µ—Ä–µ–∑ API)
2. –†–∞—Å—à–∏—Ä–∏—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
3. –°–æ–∑–¥–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ! üöÄ
""")